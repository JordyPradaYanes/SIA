<div id="wrapper">
  <div class="flex_cont">
    <app-navbar></app-navbar>

    <section class="">
      <!--NOTICIAS-->
      <div class="container-inicio">
        <div class="letreros">
          <span class="titulo">Noticias y Eventos</span>
        </div>
        <div class="rowNoticias">
          <div class="containerNoti">
            <a
              style="width: 100%; height: 100%"
              target="_blank"
              href="https://play.google.com/store/apps/details?id=co.edu.ufpso&amp;hl=es"
            >
              <div
                class="noticia"
                style="
                  background-image: url(https://siaweb.ufpso.edu.co/comprimir.php?imgURL=app/autenticacion/views/imagenes/noticias/high_resolution/especifica/SIAPP.png);
                "
              >
                <span class="notiTitulo">Aplicación móvil</span>
                <p class="notiTexto">
                  La División de Sistemas en aras de mejorar la interacción de
                  los estudiantes con el Sistema de Información Académico,
                  presenta la primera aplicación móvil multiplataforma; la cual
                  tiene como objetivo brindar una cómoda visualización en los
                  dispositivos móviles.
                </p>
                <span class="notiAutor">DIVISIÓN DE SISTEMAS</span>
                <span class="notiFecha">23 de Noviembre</span>
              </div></a
            >
          </div>
          <div class="containerNoti">
            <a
              style="width: 100%; height: 100%"
              target="_blank"
              href="https://ufpso.edu.co"
            >
              <div
                class="noticia"
                style="
                  background-image: url(https://siaweb.ufpso.edu.co/comprimir.php?imgURL=app/autenticacion/views/imagenes/noticias/star.jpg);
                "
              >
                <span class="notiTitulo">BIENVENIDOS AL NUEVO SIA</span>
                <p class="notiTexto">
                  La Universidad Francisco de Paula Santander Ocaña ha
                  desarrollado una nueva plataforma para el Sistema de
                  Información Académica (SIA) con el deseo de prestar un mejor
                  servicio para administrativos y estudiantes. Sean bienvenidos,
                  esperamos que el nuevo diseño sea de su agrado.
                </p>
                <span class="notiAutor">División de sistemas</span>
                <span class="notiFecha">01 de SEPTIEMBRE</span>
              </div></a
            >
          </div>
          <div class="containerNoti">
            <a
              style="width: 100%; height: 100%"
              target="_blank"
              href="https://ufpso.edu.co"
            >
              <div
                class="noticia"
                style="
                  background-image: url(https://siaweb.ufpso.edu.co/comprimir.php?imgURL=app/autenticacion/views/imagenes/noticias/star.jpg);
                "
              >
                <span class="notiTitulo">BIENVENIDOS AL NUEVO SIA</span>
                <p class="notiTexto">
                  Bienvenidos al nuevo sistema de información academico
                </p>
                <span class="notiAutor">División de sistemas</span>
                <span class="notiFecha">01 de SEPTIEMBRE</span>
              </div></a
            >
          </div>
        </div>
      </div>
    </section>
    <footer class="footer-custom">
      <!-- Left Section -->
      <div class="footer-section left">
        <div class="sia-logo-container">
          <!-- Using CSS to replicate the SIA box if image is not ideal, but keeping img for safety if user has it. 
                The user image shows a specific gray box with SIA. I will use a FontAwesome icon or CSS box if image fails. -->
          <img
            src="assets/imagenes/ufpso/logo_sia.png"
            class="sia-img"
            alt="SIA Logo"
            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'"
          />
          <div class="sia-fallback-logo" style="display: none">SIA</div>
        </div>
        <div class="footer-text-group">
          <div class="sia-title">SISTEMA DE INFORMACIÓN ACADÉMICO (BETA)</div>
          <div class="sia-subtitle">
            Universidad Francisco de Paula Santander - Ocaña, Colombia
          </div>
        </div>
      </div>

      <!-- Divider -->
      <div class="footer-divider"></div>

      <!-- Right Section -->
      <div class="footer-section right">
        <!-- Monitor Icon -->
        <i class="fa-solid fa-desktop footer-icon"></i>
        <div class="footer-text-group">
          <div class="dev-label">Desarrollado por:</div>
          <div class="dev-name">DIVISIÓN DE SISTEMAS -</div>
        </div>
      </div>
    </footer>
  </div>
  <div class="flex_aside">
    <aside id="lateral" class="activo">
      <!--LOGIN-->

      <!--SIA-->
      <div class="hamburMobil">
        <i class="">
          <div id="nav-icon1">
            <span></span>
            <span></span>
            <span></span>
          </div>
          <label>SIA</label></i
        >
      </div>
      <div id="SIA">
        <span>SIA</span>
      </div>
      <!--HAMBURGUESA-->
      <div id="hambur">
        <span></span>
        <span></span>
        <hr />
        <div>Menú</div>
      </div>

      <div class="texto_sia">
        <span>SISTEMA DE INFORMACIÓN</span>
        <span>ACADÉMICO</span>
      </div>

      <!--INICIO SESION-->
      <div class="container-ini">
        <span class="ini_ses mb-8">INICIO DE SESIÓN</span>

        <!--FORMULARIO-->
        <form id="logeo" autocomplete="off">
          <div class="input_label">
            <input
              type="number"
              class="codigo"
              name="cod"
              id="cod"
              autocomplete="off"
              maxlength="6"
              [(ngModel)]="formData.codigo"
              (keypress)="handleKeyPress($event)"
            />
            <div class="box_blanco">
              <div class="box fa-solid fa-barcode"></div>
              <label for="cod" class="">Código</label>
            </div>
          </div>
          <div class="input_label">
            <input
              type="text"
              class="documento"
              name="doc"
              id="doc"
              autocomplete="off"
              maxlength=""
              style="border-bottom: none"
              [(ngModel)]="formData.documento"
              (keypress)="handleKeyPress($event)"
            />
            <div class="box_blanco">
              <div class="box fa-solid fa-id-card"></div>
              <label for="doc" class="activo">Documento</label>
            </div>
          </div>
          <div class="input_label">
            <input
              [type]="showPassword ? 'text' : 'password'"
              class="contraseña"
              id="pass"
              name="pas"
              autocomplete="off"
              style="border-bottom: none"
              [(ngModel)]="formData.password"
              (keypress)="handleKeyPress($event)"
            />
            <div class="eye" (click)="togglePassword()">
              <span
                [class]="
                  showPassword ? 'fa-solid fa-eye-slash' : 'fa-solid fa-eye'
                "
              ></span>
            </div>
            <div class="box_blanco">
              <div class="box fa-solid fa-key"></div>
              <label for="pass" class="activo">Contraseña</label>
            </div>
          </div>
          <a class="resetPass" (click)="resetPassword()"
            ><span class="fa-solid fa-circle-question"></span>Olvidó su
            contraseña</a
          >
        </form>
      </div>
      <!--INGRESAR-->
      <button
        class="ingresar"
        id="ingresar"
        (click)="handleLogin()"
        [disabled]="isLoading"
      >
        {{ isLoading ? "Ingresando..." : "Ingresar" }}
      </button>
    </aside>
  </div>

  <!-- Notificación de error -->
  <div id="notificacion" class="activo" *ngIf="showNotification">
    <div class="nota" [ngClass]="notificationType">
      <div class="line">
        <span
          class="fa-solid"
          [ngClass]="{
            'fa-triangle-exclamation': notificationType === 'warning',
            'fa-circle-xmark': notificationType === 'error',
            'fa-circle-check': notificationType === 'success'
          }"
        ></span>
      </div>
      <div class="nota_contenido">
        {{ notificationMessage }}
      </div>
      <div class="nota_x fa-solid fa-xmark" (click)="closeNotification()"></div>
    </div>
  </div>

  <!-- Loader/Cargador -->
  <div class="cover_general" [class.activo]="isLoading">
    <div class="cargador">
      <div class="loader" [class.activo]="isLoading"></div>
    </div>
  </div>
</div>
