<div class="flex_aside">
  <aside id="lateral" class="activo">
    <!-- Header/Logo Section (Shared) -->

    <!-- MENU VIEW (Logged In) -->
    <div class="menu-view" *ngIf="isLoggedIn">
      <div class="header-red">
        <span class="sys-info">SISTEMA DE INFORMACIÓN</span>
        <span class="academic">ACADÉMICO</span>
      </div>

      <div class="menu-header">MENÚ</div>

      <ul class="menu-list">
        <li class="menu-item active">
          <i class="fa-solid fa-house"></i>
          <span>Inicio</span>
        </li>
        <li class="menu-item">
          <i class="fa-solid fa-credit-card"></i>
          <span>Datos Académicos</span>
        </li>
        <li class="menu-item">
          <i class="fa-solid fa-medal"></i>
          <span>Notas</span>
        </li>
        <li class="menu-item">
          <i class="fa-solid fa-sitemap"></i>
          <span>Pensum</span>
        </li>
        <li class="menu-item">
          <i class="fa-solid fa-calendar-days"></i>
          <span>Horario</span>
        </li>
        <li class="menu-item">
          <i class="fa-solid fa-square-check"></i>
          <span>Inclusiones</span>
        </li>
        <li class="menu-item">
          <i class="fa-solid fa-sack-dollar"></i>
          <span>Financiación</span>
        </li>
        <li class="menu-item">
          <i class="fa-solid fa-briefcase"></i>
          <span>Bienestar Universitario</span>
        </li>
      </ul>
    </div>

    <!-- LOGIN VIEW (Logged Out) -->
    <div class="login-view" *ngIf="!isLoggedIn">
      <!--SIA-->
      <div class="hamburMobil">
        <i class="">
          <div id="nav-icon1">
            <span></span>
            <span></span>
            <span></span>
          </div>
          <label>SIA</label></i
        >
      </div>
      <div id="SIA">
        <span>SIA</span>
      </div>
      <!--HAMBURGUESA-->
      <div id="hambur">
        <span></span>
        <span></span>
        <hr />
        <div>Menú</div>
      </div>

      <div class="texto_sia">
        <span>SISTEMA DE INFORMACIÓN</span>
        <span>ACADÉMICO</span>
      </div>

      <!--INICIO SESION-->
      <div class="container-ini">
        <span class="ini_ses mb-8">INICIO DE SESIÓN</span>

        <!--FORMULARIO-->
        <form id="logeo" autocomplete="off">
          <div class="input_label">
            <input
              type="number"
              class="codigo"
              name="cod"
              id="cod"
              autocomplete="off"
              maxlength="6"
              [(ngModel)]="formData.codigo"
              (keypress)="handleKeyPress($event)"
            />
            <div class="box_blanco">
              <div class="box fa-solid fa-barcode"></div>
              <label for="cod" class="">Código</label>
            </div>
          </div>
          <div class="input_label">
            <input
              type="text"
              class="documento"
              name="doc"
              id="doc"
              autocomplete="off"
              maxlength=""
              style="border-bottom: none"
              [(ngModel)]="formData.documento"
              (keypress)="handleKeyPress($event)"
            />
            <div class="box_blanco">
              <div class="box fa-solid fa-id-card"></div>
              <label for="doc" class="activo">Documento</label>
            </div>
          </div>
          <div class="input_label">
            <input
              [type]="showPassword ? 'text' : 'password'"
              class="contraseña"
              id="pass"
              name="pas"
              autocomplete="off"
              style="border-bottom: none"
              [(ngModel)]="formData.password"
              (keypress)="handleKeyPress($event)"
            />
            <div class="eye" (click)="togglePassword()">
              <span
                [class]="
                  showPassword ? 'fa-solid fa-eye-slash' : 'fa-solid fa-eye'
                "
              ></span>
            </div>
            <div class="box_blanco">
              <div class="box fa-solid fa-key"></div>
              <label for="pass" class="activo">Contraseña</label>
            </div>
          </div>
          <a class="resetPass" (click)="resetPassword()"
            ><span class="fa-solid fa-circle-question"></span>Olvidó su
            contraseña</a
          >
        </form>
      </div>
      <!--INGRESAR-->
      <button
        class="ingresar"
        id="ingresar"
        (click)="handleLogin()"
        [disabled]="isLoading"
      >
        {{ isLoading ? "Ingresando..." : "Ingresar" }}
      </button>

      <!-- Notificación de error (Moved inside sidebar context) -->
      <div id="notificacion" class="activo" *ngIf="showNotification">
        <div class="nota" [ngClass]="notificationType">
          <div class="line">
            <span
              class="fa-solid"
              [ngClass]="{
                'fa-triangle-exclamation': notificationType === 'warning',
                'fa-circle-xmark': notificationType === 'error',
                'fa-circle-check': notificationType === 'success'
              }"
            ></span>
          </div>
          <div class="nota_contenido">
            {{ notificationMessage }}
          </div>
          <div
            class="nota_x fa-solid fa-xmark"
            (click)="closeNotification()"
          ></div>
        </div>
      </div>
    </div>
  </aside>

  <!-- Loader/Cargador -->
  <div class="cover_general" [class.activo]="isLoading">
    <div class="cargador">
      <div class="loader" [class.activo]="isLoading"></div>
    </div>
  </div>
</div>
